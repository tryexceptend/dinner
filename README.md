# Dinner

## Описание

Telegram бот, который выдает случайным образом, что приготовить на ужин.

Состав ужина может быть следующих типов: 
- мясо и гарнир;
- салат;
- суп.

## Структура проекта

- cmd               - запуск приложений
    - migrator      - мигратор бд
    - tbot          - точка запуска бота
- config            - конфиги приложения
- internal          - основная логика приложения
    - app           - собирает основное приложение
    - config        - пакет для получения конфигов
    - domain        - "бизнес логика" нашего приложения
        - models    - модели
    - lib           - дополнительные библиотеки
    - services      - сервисы с логикой приложения 
        - dinner    - сервис для получения состава ужина
    - storages      - работа с БД
        - sqlite    - доступ к БД SQLite
    - telegramBot   - работа с телеграм ботом
- migrations        - скрипты миграций
- storages          - хранение бд
- tests             - тесты приложения

## Создание бд

Код миграции новой базы:

```bash
go run ./cmd/migrator --storage-path=./storages/dinner.db --migrations-path=./migrations
```

Где: 
- первый параметр путь, по которому будет создана база SQLite;
- второй параметр путь к директории с файлами миграций.

## Запуск бота

Для запуска приложения нам нужен конфиг файл (например: [./config/local.yaml](config/local.yaml))  и токен бота в переменной окружения "BOT_TOKEN".

Запустить бота можно следующей командой:


```bash
go run cmd/tbot/main.go --config ./config/local.yaml
```

Где ключ --config содержит путь к нужному файлу конфигурации.